[{"/home/priyanshu/Desktop/chatter/client/src/index.js":"1","/home/priyanshu/Desktop/chatter/client/src/reportWebVitals.js":"2","/home/priyanshu/Desktop/chatter/client/src/App.js":"3","/home/priyanshu/Desktop/chatter/client/src/UserContext.js":"4","/home/priyanshu/Desktop/chatter/client/src/Components/home/Home.js":"5","/home/priyanshu/Desktop/chatter/client/src/Components/chat/Chat.js":"6","/home/priyanshu/Desktop/chatter/client/src/Components/layout/Navbar.js":"7","/home/priyanshu/Desktop/chatter/client/src/Components/home/Roomlist.js":"8","/home/priyanshu/Desktop/chatter/client/src/Components/home/Room.js":"9","/home/priyanshu/Desktop/chatter/client/src/Components/chat/messages/Message.js":"10","/home/priyanshu/Desktop/chatter/client/src/Components/chat/message/SingleMessage.js":"11","/home/priyanshu/Desktop/chatter/client/src/Components/chat/input/Input.js":"12","/home/priyanshu/Desktop/chatter/client/src/Components/auth/Login.js":"13","/home/priyanshu/Desktop/chatter/client/src/Components/auth/Signup.js":"14"},{"size":500,"mtime":1626434294642,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1626434294642,"results":"17","hashOfConfig":"16"},{"size":1540,"mtime":1626938244823,"results":"18","hashOfConfig":"16"},{"size":84,"mtime":1626434804907,"results":"19","hashOfConfig":"16"},{"size":2451,"mtime":1626938368302,"results":"20","hashOfConfig":"16"},{"size":2506,"mtime":1626864492965,"results":"21","hashOfConfig":"16"},{"size":1963,"mtime":1626868470009,"results":"22","hashOfConfig":"16"},{"size":415,"mtime":1626866165802,"results":"23","hashOfConfig":"16"},{"size":381,"mtime":1626675204319,"results":"24","hashOfConfig":"16"},{"size":630,"mtime":1626868787982,"results":"25","hashOfConfig":"16"},{"size":848,"mtime":1626863458674,"results":"26","hashOfConfig":"16"},{"size":532,"mtime":1626868824102,"results":"27","hashOfConfig":"16"},{"size":2258,"mtime":1626938356886,"results":"28","hashOfConfig":"16"},{"size":2317,"mtime":1626848238332,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"qakr31",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/home/priyanshu/Desktop/chatter/client/src/index.js",[],["63","64"],"/home/priyanshu/Desktop/chatter/client/src/reportWebVitals.js",[],"/home/priyanshu/Desktop/chatter/client/src/App.js",["65","66"],"/home/priyanshu/Desktop/chatter/client/src/UserContext.js",[],"/home/priyanshu/Desktop/chatter/client/src/Components/home/Home.js",["67","68"],"/home/priyanshu/Desktop/chatter/client/src/Components/chat/Chat.js",["69","70","71","72"],"import React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { UserContext } from \"../../UserContext\";\nimport io from \"socket.io-client\";\nimport Message from \"./messages/Message\";\nimport Input from \"./input/Input\";\nimport \"./Chat.css\"\nimport { useCookies } from 'react-cookie';\nlet socket;\nconst Chat = () => {\n\n  let ENDPT = \"http://localhost:5000/\";\n  const [message, setmessage] = useState(\"\");\n  const [messages,setmessages]=useState([]);\n  const { user, setUser } = useContext(UserContext);\n//  console.log(\"user\",user)\n  let { room_id,user_id,user_name } = useParams();\n  const [cookies, setCookie] = useCookies(['user']);\n \n\n  \n  // useEffect(() => {\n  //   const verifyuser=async()=>{\n  //     try{\n  //       res=await axios.get(\"http://localhost:5000/verifyuser\",{withCredentials:true})\n  //       console.log(res.data)\n  //       const data=res.data;\n  //       setUser({data})\n     \n  //     }\n  //     catch(err){\n  //       console.log(err)\n  //     }\n  //   }\n  //   verifyuser();\n  // }, [])\n  useEffect(() => {\n    \n\n    setUser(user)\n    socket = io(ENDPT, { transports: [\"websocket\"] });\n    if(!user){\n      // const name=localStorage.getItem(\"chatusername\");\n      // const id=localStorage.getItem(\"chatuserid\");\n      const name=cookies.userName;\n      const id=cookies.userId;\n      console.log(\"id and name\",id,name);\n    socket.emit(\"join\", {  room_id, user_id: id,name:name });\n\n    }else\n  {  console.log(user)\n    socket.emit(\"join\", {  room_id, user_id: user._id,name:user.name });\n    console.log(user)}\n    \n  },[]);\n useEffect(() => {\n     socket.on(\"message\",message=>{\n      //  console.log(\"message\",message)\n      //  console.log(\"messages\",messages);\n         setmessages([...messages,message])\n     });\n     socket.on(\"output-message\",message=>{\n      //  console.log(\"output message\",message)\n       setmessages(message)\n      //  console.log(\"msgs\",messages)\n       \n     })\n\n },[messages])\n\n  const sendMessage = (event) => {\n      event.preventDefault();\n    // console.log(message);\n    if (message) {\n      socket.emit(\"sendmessage\",message,room_id, () => {\n        setmessage(\"\");\n      });\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"outerContainer\">\n        <div className=\"container\" >\n\n      <Message messages={messages} user={user} />\n      <Input message={message} setmessage={setmessage} sendMessage={sendMessage} />\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","/home/priyanshu/Desktop/chatter/client/src/Components/layout/Navbar.js",["73","74","75"],"import React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"../../UserContext\";\nimport { useCookies } from 'react-cookie';\n\nconst Navbar = () => {\n  const { user, setUser } = useContext(UserContext);\n  const [cookies,setCookie,removeCookie] = useCookies(['user']);\n\n  const logout = async () => {\n    console.log(\"logout called\");\n    try {\n      const res = await axios.get(\"http://localhost:5000/logout\", {\n        withCredentials: true,\n      });\n      setUser(null);\n      setCookie('userId', \"\", { path: '/', maxAge:1});\n      setCookie('userName', \"\", { path: '/', maxAge:1});\n\n      console.log(res);\n    } catch (err) {\n      console.log({ err });\n    }\n  };\n\n  return (\n    <div>\n      <nav className=\"green\">\n        <div className=\"nav-wrapper\">\n          <a href=\"/\" className=\"brand-logo\">\n            Chat\n          </a>\n          <a href=\"#\" data-target=\"mobile-demo\" className=\"sidenav-trigger\">\n            <i className=\"material-icons\">menu</i>\n          </a>\n          <ul className=\"right hide-on-med-and-down\">\n            {user ? (\n              <li>\n                <a href=\"/login\" onClick={logout}>\n                  Logout\n                </a>\n              </li>\n            ) : (\n              <>\n                <li>\n                  <a href=\"/login\">Login</a>\n                </li>\n                <li>\n                  <a href=\"/signup\">Signup</a>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </nav>\n\n      <ul className=\"sidenav\" id=\"mobile-demo\">\n        {user ? (\n          <li>\n            <a href=\"/login\" onClick={logout}>\n              Logout\n            </a>\n          </li>\n        ) : (\n          <>\n            <li>\n              <a href=\"/login\">Login</a>\n            </li>\n            <li>\n              <a href=\"/signup\">Signup</a>\n            </li>\n          </>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Navbar;\n","/home/priyanshu/Desktop/chatter/client/src/Components/home/Roomlist.js",["76"],"import React from \"react\";\nimport Room from \"./Room\";\nimport { Link } from \"react-router-dom\";\nconst Roomlist = ({ rooms,user }) => {\n  return (\n    <div>\n      {rooms &&\n        rooms.map(\n          (room) => (     \n            <a href={\"/chat/\"+room._id+\"/\"+room.name} key={room._id} >\n              <Room name={room.name} />\n            </a>  \n          )\n        )}\n    </div>\n  );\n};\n\nexport default Roomlist;\n","/home/priyanshu/Desktop/chatter/client/src/Components/home/Room.js",["77"],"import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nconst Room = ({ name }) => {\n  \n  return (\n    <div className=\"col s12 m4\">\n      <div className=\"card horizontal\">\n        <div className=\"card-stacked\">\n          <div className=\"card-content\">\n            <p>{name}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Room;\n","/home/priyanshu/Desktop/chatter/client/src/Components/chat/messages/Message.js",[],"/home/priyanshu/Desktop/chatter/client/src/Components/chat/message/SingleMessage.js",[],"/home/priyanshu/Desktop/chatter/client/src/Components/chat/input/Input.js",[],"/home/priyanshu/Desktop/chatter/client/src/Components/auth/Login.js",[],"/home/priyanshu/Desktop/chatter/client/src/Components/auth/Signup.js",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":14,"column":10,"nodeType":"84","messageId":"85","endLine":14,"endColumn":17},{"ruleId":"86","severity":1,"message":"87","line":30,"column":6,"nodeType":"88","endLine":30,"endColumn":8,"suggestions":"89"},{"ruleId":"82","severity":1,"message":"90","line":9,"column":17,"nodeType":"84","messageId":"85","endLine":9,"endColumn":24},{"ruleId":"86","severity":1,"message":"91","line":37,"column":6,"nodeType":"88","endLine":37,"endColumn":8,"suggestions":"92"},{"ruleId":"82","severity":1,"message":"93","line":17,"column":17,"nodeType":"84","messageId":"85","endLine":17,"endColumn":24},{"ruleId":"82","severity":1,"message":"94","line":17,"column":25,"nodeType":"84","messageId":"85","endLine":17,"endColumn":34},{"ruleId":"82","severity":1,"message":"95","line":18,"column":19,"nodeType":"84","messageId":"85","endLine":18,"endColumn":28},{"ruleId":"86","severity":1,"message":"96","line":55,"column":5,"nodeType":"88","endLine":55,"endColumn":7,"suggestions":"97"},{"ruleId":"82","severity":1,"message":"83","line":8,"column":10,"nodeType":"84","messageId":"85","endLine":8,"endColumn":17},{"ruleId":"82","severity":1,"message":"98","line":8,"column":28,"nodeType":"84","messageId":"85","endLine":8,"endColumn":40},{"ruleId":"99","severity":1,"message":"100","line":33,"column":11,"nodeType":"101","endLine":33,"endColumn":77},{"ruleId":"82","severity":1,"message":"102","line":3,"column":10,"nodeType":"84","messageId":"85","endLine":3,"endColumn":14},{"ruleId":"82","severity":1,"message":"103","line":2,"column":10,"nodeType":"84","messageId":"85","endLine":2,"endColumn":19},"no-native-reassign",["104"],"no-negated-in-lhs",["105"],"no-unused-vars","'cookies' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setCookie'. Either include it or remove the dependency array.","ArrayExpression",["106"],"'setUser' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["107"],"'user_id' is assigned a value but never used.","'user_name' is assigned a value but never used.","'setCookie' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'ENDPT', 'cookies.userId', 'cookies.userName', 'room_id', 'setUser', and 'user'. Either include them or remove the dependency array.",["108"],"'removeCookie' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Link' is defined but never used.","'useParams' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},{"desc":"113","fix":"114"},"Update the dependencies array to be: [setCookie]",{"range":"115","text":"116"},"Update the dependencies array to be: [user]",{"range":"117","text":"118"},"Update the dependencies array to be: [ENDPT, cookies.userId, cookies.userName, room_id, setUser, user]",{"range":"119","text":"120"},[1008,1010],"[setCookie]",[1008,1010],"[user]",[1599,1601],"[ENDPT, cookies.userId, cookies.userName, room_id, setUser, user]"]