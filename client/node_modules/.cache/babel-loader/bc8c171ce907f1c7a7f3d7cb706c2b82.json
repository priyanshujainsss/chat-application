{"ast":null,"code":"var _jsxFileName = \"/home/priyanshu/Desktop/chatter/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { UserContext } from './UserContext';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport Home from './Components/home/Home';\nimport Chat from './Components/chat/Chat';\nimport Navbar from './Components/layout/Navbar';\nimport Login from \"./Components/auth/Login\";\nimport Signup from \"./Components/auth/Signup\";\nimport axios from 'axios';\nimport { CookiesProvider, useCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst headers = {\n  'Access-Control-Allow-Origin': '*',\n  withCredentials: true\n};\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const [cookies, setCookie] = useCookies(['user']);\n  useEffect(() => {\n    const verifyuser = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:5000/verifyuser\", {\n          headers: headers\n        });\n        console.log(res);\n        setUser(res.data);\n        setCookie('userId', res.data._id, {\n          path: '/'\n        });\n        setCookie('userName', res.data.name, {\n          path: '/'\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    verifyuser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n        value: {\n          user,\n          setUser\n        },\n        children: /*#__PURE__*/_jsxDEV(CookiesProvider, {\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/chat/:room_id/:room_name/\",\n              component: Chat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/login\",\n              component: Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              eaxct: true,\n              path: \"/signup\",\n              component: Signup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"qxIi6FKaj9lKqDLSbW+rQ/mVIpw=\", false, function () {\n  return [useCookies];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/priyanshu/Desktop/chatter/client/src/App.js"],"names":["UserContext","BrowserRouter","Router","Switch","Route","useEffect","useState","Home","Chat","Navbar","Login","Signup","axios","CookiesProvider","useCookies","headers","withCredentials","App","user","setUser","cookies","setCookie","verifyuser","res","get","console","log","data","_id","path","name","err"],"mappings":"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","sourcesContent":["import './App.css';\nimport {UserContext} from './UserContext';\nimport {BrowserRouter as Router, Switch,Route} from 'react-router-dom'\nimport { useEffect, useState } from 'react';\nimport Home from './Components/home/Home';\nimport Chat from './Components/chat/Chat';\nimport Navbar from './Components/layout/Navbar';\nimport Login from \"./Components/auth/Login\";\nimport Signup from \"./Components/auth/Signup\";\nimport axios from 'axios';\nimport {CookiesProvider,useCookies} from \"react-cookie\"\nconst headers = {\n  'Access-Control-Allow-Origin':'*',\n     withCredentials:true\n}\nfunction App() {\n  const [user,setUser]=useState(null);\n  const [cookies, setCookie] = useCookies(['user']);\n  useEffect(() => {\n    const verifyuser=async()=>{\n      try{\n        const res=await axios.get(\"http://localhost:5000/verifyuser\",{\n          headers:headers\n        })\n        console.log(res)\n        setUser(res.data)\n      setCookie('userId', res.data._id, { path: '/'});\n      setCookie('userName', res.data.name, { path: '/' });\n\n      }\n      catch(err){\n        console.log(err)\n      }\n    }\n    verifyuser();\n  }, [])\n\n  \n  return (\n    <Router>\n    <div className=\"App\">\n     <UserContext.Provider value={{user,setUser}}>\n       <CookiesProvider>\n       <Navbar />\n       <Switch>\n         <Route exact path=\"/\" component={Home} />\n         <Route  path=\"/chat/:room_id/:room_name/\" component={Chat}/>\n         <Route exact path=\"/login\" component={Login} />\n         <Route eaxct path=\"/signup\" component={Signup} />\n       </Switch>\n       </CookiesProvider>\n     </UserContext.Provider>\n\n\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}